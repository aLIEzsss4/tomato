<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<title>图表</title>
	</head>
	<script src="js/echarts.js" type="text/javascript" charset="utf-8"></script>

	<body>
		<div id="main" style="width: 1170px;height: 550px;"></div>

	</body>
	<script type="text/javascript">
		var myChart = echarts.init(document.getElementById('main'));

		var data = {
			name: ['微博', '微信', '知乎', '头条'],
			word1: [
				['1', '200', 'https://github.com/aLIEzsss4/tomato','跳转到github'],
				['1.5', '300', 'https://github.com/aLIEzsss4','跳转到github2'],
				['2.3', '3300', 'https://github.com/aLIEzsss4','标题xxxx'],
				['3.8', '2300', 'https://github.com/aLIEzsss4','关键事件'],
				[3, -4000],
				[3, 3000],
				[4, -1000],
				[5, -3000],
				[6, 8000],
				[7, 200]
			],
			word2: [
				[1, 3000],
				[2, 4000],
				[3, 5000],
				[5, 8000],
				[6, 8000],
				[7, 1000]
			],
			word3: [
				[4.5, 450],
				[6.7, 474]
			],
			word4: [
				[2.2, 303],
				[4.3, 300]
			],
			word5: [
				[11, 101],
				[21, 240]
			],
			word6:[
			    ['3.5', '4000', 'https://github.com/aLIEzsss4/tomato','跳转到github'],
				['4.2', '-300', 'https://github.com/aLIEzsss4','跳转到github2'],
				['4.4', '6300', 'https://github.com/aLIEzsss4','标题xxxx'],
				['2.2', '-2300', 'https://github.com/aLIEzsss4','关键事件'],
				['6.5', '3000', 'https://github.com/aLIEzsss4/tomato','跳转到github'],
				['2.5', '-7300', 'https://github.com/aLIEzsss4','跳转到github2']
				],
			like:[[],['反感 145篇'],[],['差评 221篇'],[],['中立 260篇'],[],['好感 300篇'],[],['推荐 400篇']]
		};
		// console.log(data['gjc1'])
		var itemStyle = {
			normal: {
				opacity: 0.8,
				shadowBlur: 10,
				shadowOffsetX: 0,
				shadowOffsetY: 0,
				shadowColor: 'rgba(0, 0, 0, 0.5)'
			}
		};
		var symbolSize= function(params) {
				// 		console.log(params)
						return 10;
					}();
			
		var option = {
		     timeline: {
            // y: 0,
            axisType: 'category',
            // realtime: false,
            // loop: false,
            // autoPlay: true,
            // currentIndex: 2,
            playInterval: 2000,
             controlStyle:{
                show: false,
              },
            // controlStyle: {
            //     position: 'left'
            // },
            data: ['2017-01-01','2017-01-02','2017-01-03','2017-01-04','2017-01-05','2017-01-06','2017-01-07'
            ],
            label: {
                formatter : function(s) {
                    return (new Date(s)).getDate();
                }
            }
        },
    baseOption: {
			title: {
				text: '口碑舆情图',
				subtext: '数据来源(数榜)',
				sublink: 'https://github.com/aLIEzsss4/echarts',
				x: 'left',
				textStyle: {
					fontSize: 18,
					fontWeight: 'bolder',
					color: '#333' // 主标题文字颜色
				},
			},
			tooltip: {
				formatter: function(params){
					return params.value[3]
				}
			},
			grid: {
				show: true,
				x: 100,
				y: 80,
				x2: 150,
				y2: 80,
				//				 width: {totalWidth} - x - x2,
				// height: {totalHeight} - y - y2,
				backgroundColor: 'rgba(0,0,255,0)',
				borderWidth: 1,
				borderColor: '#ccc'
			},
			xAxis: {
				type: 'value',
				name: '',
				nameGap: 16,
				nameTextStyle: {
					fontSize: 14
				},
				min: 1,
				max: 7,
				splitLine: {
					show: false
				},
				axisLine: {
				    show:false,
					lineStyle: {
						color: '#777'
					}
				},
				axisTick: {
				    show:false,
					lineStyle: {
						color: '#777'
					}
				},
				axisLabel: {
					formatter: '{value}',
					textStyle: {}
				}
			},
			yAxis: {
				type: 'value',
				name: '',
				nameLocation: 'start',
				nameGap: 20,
				nameTextStyle: {
					fontSize: 14
				},
				min:-10000,
				max: 10000,
				splitNumber:10,
				scale: true,
				splitArea: {
					show: true,
					areaStyle: {
						color: ['rgba(210,221,231,1)','rgba(210,221,231,1)', 'rgba(220,229,238,1)', 'rgba(220,229,238,1)','rgba(232,236,244,1)','rgba(232,236,244,1)' , 'rgba(220,229,238,1)', 'rgba(220,229,238,1)',]
						// default:['rgba(250,250,250,0.3)','rgba(200,200,200,0.7)']
					}
				},
				axisLine: {
				    show:false,
					lineStyle: {
						color: '#777'
					}
				},
				axisTick: {
				    show:false,
					interval: 200,
					lineStyle: {
						color: '#777',
					}
				},
				splitLine: {
					show: false
				},
				axisLabel: {
					textStyle: {
						align: '',
				// 		baseline: 'bottom',
						fontWeight: 400,
						fontSize: 16,
					},
					formatter: function(param, index) {
				// 		console.log(data['like'][index])
						return data['like'][index]
					}
				}
			},
			legend: {
				data: data['name'],
				orient: 'vertical',
				right: 10,
				bottom: 10,
				// data: ['gjc1','全部', '推荐', '好感', '中立', '差评', '反感'],
				//				data: ['全部','微博','微信','知乎','头条'],
			},
			series: [{
					name: data['name'][0],
					type: 'scatter',
					itemStyle: itemStyle,
					data: data['word1'],
					label: {
						normal: {
							formatter: '{a}'
						},
						emphasis: {
							show: true,
							formatter: '{a}\n{c}',
							position: 'top'
						}
					},
					symbolSize: function(data) {
				// 		console.log(data[1])
						return 10;
					},
				},
				{
					name: data['name'][1],
					type: 'scatter',
					itemStyle: itemStyle,
					data: data['word2'],
					label: {
						normal: {
							formatter: '{a}'
						},
						emphasis: {
							show: true,
							formatter: '{a}\n{c}',
							position: 'top'
						}
					},
					symbolSize: function(data) {
				// 		console.log(data[1])
						return Math.sqrt(data[1]) / 2;
					},
				}, {
					name: data['name'][2],
					type: 'scatter',
					itemStyle: itemStyle,
					data: data['word3'],
					label: {
						normal: {
							formatter: '{a}'
						},
						emphasis: {
							show: true,
							formatter: '{a}\n{c}',
							position: 'top'
						}
					},
					symbolSize: function(data) {
				// 		console.log(data[1])
						return Math.sqrt(data[1]) / 2;
					},
				}, {
					name: data['name'][3],
					type: 'scatter',
					itemStyle: itemStyle,
					data: data['word4'],
					label: {
						normal: {
							formatter: '{a}'
						},
						emphasis: {
							show: true,
							formatter: '{a}\n{c}',
							position: 'top'
						}
					},
				}, {
					name: data['name'][4],
					type: 'scatter',
					itemStyle: itemStyle,
					data: data['word5'],
					label: {
						normal: {
							formatter: '{a}'
						},
						emphasis: {
							show: true,
							formatter: '{a}\n{c}',
							position: 'top'
						}
					},
				},
				{
					name: data['name'][1],
					type: 'effectScatter',
					itemStyle: itemStyle,
					data: data['word6'],
					zlevel:200,
					label: {
						normal: {
							formatter: '{a}'
						},
						emphasis: {
							show: true,
							formatter: '{a}\n{c}',
							position: 'top'
						}
					},	
					symbolSize: function(data) {
				// 		console.log(data[1])
						return 30;
					},
				}
			]
		}}

		myChart.setOption(option);
		myChart.on('click',function(params){
			if(params.value[2]){
				window.open(params.value[2])
				console.log('有')
			}
			
		})
	</script>

</html>
